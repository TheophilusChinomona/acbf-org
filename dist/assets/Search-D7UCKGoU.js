import{j as e,m as t}from"./ui-vendor-C9NSL-V1.js";import{a as s,f as r,L as a}from"./react-vendor-CqF2KkxH.js";import{e as o,i as l,r as n}from"./index-CUhSnw1U.js";import{a as i,S as c,C as m}from"./SEO-W8xHDy7w.js";import{p as d}from"./posts-CXtdVVCU.js";import{p as x}from"./index-B1b2Zjr5.js";import{p}from"./portfolio-DJCQ6KXv.js";import{f as g}from"./formatDate-D7PC_ek2.js";import"./form-vendor-B01PBJbt.js";function h(e,t){if(!e||!t)return e;const s=t.trim();if(!s)return e;const r=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`(${r})`,"gi");return("string"==typeof e?e:String(e)).replace(a,'<mark class="bg-yellow-200 px-1 rounded">$1</mark>')}function u(e,t,s=200){if(!e)return"";const r="string"==typeof e?e:String(e),a=t.trim().toLowerCase();if(!a)return r.length>s?r.substring(0,s)+"...":r;const o=r.toLowerCase().indexOf(a);if(-1===o)return r.length>s?r.substring(0,s)+"...":r;const l=Math.max(0,o-s/2),n=Math.min(r.length,o+a.length+s/2);let i=r.substring(l,n);return l>0&&(i="..."+i),n<r.length&&(i+="..."),h(i,t)}function y(){const[y,f]=r(),j=y.get("q")||"",{posts:b,pages:N,portfolio:w,total:v}=function(e){return s.useMemo(()=>{if(!e||""===e.trim())return{posts:[],pages:[],portfolio:[],total:0};const t=e.toLowerCase().trim(),s=d.filter(e=>{const s=e.title?.toLowerCase().includes(t),r=e.excerpt?.toLowerCase().includes(t),a=e.content?.toLowerCase().includes(t),o=e.categories?.some(e=>e.toLowerCase().includes(t)),l=e.tags?.some(e=>e.toLowerCase().includes(t)),n=e.author?.toLowerCase().includes(t);return s||r||a||o||l||n}).map(e=>({...e,type:"post",url:`/blog/${e.slug}`})),r=x.filter(e=>{const s=e.title?.toLowerCase().includes(t),r=e.content?.toLowerCase().includes(t);return s||r}).map(e=>({...e,type:"page",url:`/${e.slug}`})),a=p.filter(e=>{const s=e.title?.toLowerCase().includes(t),r=e.description?.toLowerCase().includes(t),a=e.clientName?.toLowerCase().includes(t),o=e.categories?.some(e=>e.toLowerCase().includes(t));return s||r||a||o}).map(e=>({...e,type:"portfolio",url:`/portfolio/${e.slug}`}));return{posts:s,pages:r,portfolio:a,total:s.length+r.length+a.length}},[e])}(j);return e.jsxs(e.Fragment,{children:[e.jsx(i,{title:j?`Search Results for "${j}"`:"Search",description:j?`Found ${v} result${1!==v?"s":""} for "${j}"`:"Search across our blog posts, pages, and portfolio items."}),e.jsx(c,{children:e.jsx(m,{children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Search Results"}),j?e.jsxs("p",{className:"text-lg text-gray-600",children:["Found ",e.jsx("strong",{children:v})," result",1!==v?"s":"",' for "',e.jsx("strong",{children:j}),'"']}):e.jsx("p",{className:"text-lg text-gray-600",children:"Enter a search term to find content across the site."})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("search");f({q:t})},className:"relative",children:[e.jsx(o,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl"}),e.jsx("input",{type:"text",name:"search",defaultValue:j,placeholder:"Search posts, pages, and portfolio...",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-lg"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Search"})]})}),j?0===v?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"mx-auto text-gray-400 text-6xl mb-4"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:['No results found for "',j,'"']}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try different keywords or check your spelling."})]}):e.jsxs("div",{className:"space-y-8",children:[b.length>0&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(l,{className:"text-primary"}),"Blog Posts (",b.length,")"]}),e.jsx("div",{className:"space-y-4",children:b.map(t=>e.jsxs(a,{to:t.url,className:"block p-6 bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",dangerouslySetInnerHTML:{__html:h(t.title,j)}}),t.excerpt&&e.jsx("p",{className:"text-gray-600 mb-3",dangerouslySetInnerHTML:{__html:u(t.excerpt,j)}}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.date&&e.jsx("span",{children:g(t.date)}),t.author&&e.jsxs("span",{children:["by ",t.author]})]})]},t.id))})]}),N.length>0&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(l,{className:"text-primary"}),"Pages (",N.length,")"]}),e.jsx("div",{className:"space-y-4",children:N.map(t=>e.jsxs(a,{to:t.url,className:"block p-6 bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",dangerouslySetInnerHTML:{__html:h(t.title,j)}}),t.content&&e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:u(t.content,j,150)}})]},t.id))})]}),w.length>0&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"text-primary"}),"Portfolio (",w.length,")"]}),e.jsx("div",{className:"space-y-4",children:w.map(t=>e.jsx(a,{to:t.url,className:"block p-6 bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex gap-4",children:[t.featuredImage&&e.jsx("img",{src:t.featuredImage,alt:t.title,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",dangerouslySetInnerHTML:{__html:h(t.title,j)}}),t.description&&e.jsx("p",{className:"text-gray-600 mb-2",dangerouslySetInnerHTML:{__html:u(t.description,j,150)}}),t.clientName&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Client: ",t.clientName]})]})]})},t.id))})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"mx-auto text-gray-400 text-6xl mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Enter a search term above to get started."})]})]})})})]})}export{y as default};
