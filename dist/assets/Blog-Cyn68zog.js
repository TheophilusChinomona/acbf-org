import{j as e,m as s}from"./ui-vendor-C9NSL-V1.js";import{f as t,L as a,c as r,a as l}from"./react-vendor-CqF2KkxH.js";import{e as i,B as n,f as o}from"./index-CUhSnw1U.js";import{a as c,C as d,S as m}from"./SEO-W8xHDy7w.js";import{u as x}from"./form-vendor-B01PBJbt.js";import{u as g,a as h,b as u,c as p,d as f}from"./usePosts-BnByNsb9.js";import{C as y}from"./Card-GeUf7aUC.js";import{P as j}from"./PostCard-BuxAzdLt.js";import{C as b}from"./ContactSection-Dw0vThP1.js";import"./posts-CXtdVVCU.js";import"./formatDate-D7PC_ek2.js";function w({currentPage:s,totalPages:r,basePath:l="/blog"}){const[i]=t();if(r<=1)return null;const n=e=>{const s=new URLSearchParams(i);return s.set("page",e.toString()),`${l}?${s.toString()}`},o=(()=>{const e=[];if(r<=5)for(let s=1;s<=r;s++)e.push(s);else{e.push(1),s>3&&e.push("...");const t=Math.max(2,s-1),a=Math.min(r-1,s+1);for(let s=t;s<=a;s++)e.push(s);s<r-2&&e.push("..."),e.push(r)}return e})();return e.jsxs("nav",{className:"flex items-center justify-center gap-2 mt-8","aria-label":"Pagination",children:[s>1?e.jsx(a,{to:n(s-1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Previous"}):e.jsx("span",{className:"px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-lg cursor-not-allowed",children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:o.map((t,r)=>{if("..."===t)return e.jsx("span",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"..."},`ellipsis-${r}`);const l=t===s;return e.jsx(a,{to:n(t),className:`\n                px-4 py-2 text-sm font-medium rounded-lg transition-colors\n                ${l?"bg-primary text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}\n              `,children:t},t)})}),s<r?e.jsx(a,{to:n(s+1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Next"}):e.jsx("span",{className:"px-4 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-lg cursor-not-allowed",children:"Next"})]})}function N(){const s=r(),[a]=t(),{register:l,handleSubmit:o}=x({defaultValues:{query:a.get("search")||""}});return e.jsx("form",{onSubmit:o(e=>{const t=new URLSearchParams;e.query&&e.query.trim()&&t.set("search",e.query.trim()),t.set("page","1"),s(`/blog?${t.toString()}`)}),className:"w-full",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{...l("query"),type:"text",placeholder:"Search posts...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsx(n,{type:"submit",variant:"primary",children:"Search"})]})})}function v(){const s=g(3),r=h(),i=u(),[n]=t(),o=l.useMemo(()=>r.filter(e=>{const s=e.toLowerCase();return"events"===s||s.includes("blog")}),[r]),c=e=>{const s=new URLSearchParams(n);return s.set("category",e),s.set("page","1"),`/blog?${s.toString()}`},d=e=>{const s=new URLSearchParams(n);return s.set("tag",e),s.set("page","1"),`/blog?${s.toString()}`};return e.jsxs("aside",{className:"space-y-8",children:[s.length>0&&e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Recent Posts"}),e.jsx("div",{className:"space-y-4",children:s.map(s=>e.jsxs("div",{className:"flex gap-3",children:[s.featuredImage&&e.jsx(a,{to:`/blog/${s.slug}`,className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden",children:e.jsx("img",{src:s.featuredImage,alt:s.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(a,{to:`/blog/${s.slug}`,className:"block",children:e.jsx("h4",{className:"text-sm font-semibold mb-1 line-clamp-2 hover:text-primary transition-colors",children:s.title})}),s.date&&e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString()})]})]},s.id))})]}),o.length>0&&e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Categories"}),e.jsx("ul",{className:"space-y-2",children:o.map(s=>e.jsx("li",{children:e.jsxs(a,{to:c(s),className:"flex items-center justify-between text-gray-700 hover:text-primary transition-colors py-1",children:[e.jsx("span",{children:s}),e.jsx("span",{className:"text-sm text-gray-400",children:"â†’"})]})},s))})]}),i.length>0&&e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(s=>e.jsx(a,{to:d(s),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-primary hover:text-white transition-colors",children:s},s))})]})]})}function $({posts:s}){if(0===s.length)return null;const[t,...a]=s;return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:e.jsx(j,{post:t,layout:"featured"})}),a.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx(j,{post:s,layout:"default"},s.id))})]})}function P(){const[a,r]=t(),i=a.get("search")||"",x=a.get("category")||"",g=a.get("tag")||"",h=parseInt(a.get("page")||"1",10),u=p(),y=l.useMemo(()=>{let e=u;return i&&(e=e.filter(e=>{const s=i.toLowerCase();return e.title?.toLowerCase().includes(s)||e.excerpt?.toLowerCase().includes(s)||e.content?.toLowerCase().includes(s)||e.categories?.some(e=>e.toLowerCase().includes(s))||e.tags?.some(e=>e.toLowerCase().includes(s))})),x&&(e=e.filter(e=>e.categories?.includes(x))),g&&(e=e.filter(e=>e.tags?.includes(g))),[...e].sort((e,s)=>new Date(s.date)-new Date(e.date))},[u,i,x,g]),{paginatedPosts:j,totalPages:P}=f(y,h,9),C=$,S=()=>{r({})},L=i||x||g,k=L?`Browse ${y.length} blog post${1!==y.length?"s":""}${x?` in ${x}`:""}${g?` tagged ${g}`:""}`:"Browse our latest blog posts, articles, and updates. Stay informed with our latest news and insights.";return e.jsxs(e.Fragment,{children:[e.jsx(c,{title:L?`Posts & Events${x?` - ${x}`:""}${g?` - ${g}`:""}`:"Posts & Events",description:k}),e.jsxs("section",{className:"relative w-full overflow-hidden bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 py-12 md:py-16 lg:py-20",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),e.jsx(d,{children:e.jsx("div",{className:"relative z-10",children:e.jsxs(s.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[e.jsx(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full mb-8 border-2 border-white/30",children:e.jsx(o,{className:"w-12 h-12 text-white"})}),e.jsx(s.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:"Posts & Events"}),e.jsx(s.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:L?`${y.length} post${1!==y.length?"s":""} found${x?` in ${x}`:""}${g?` tagged ${g}`:""}`:"Browse our latest blog posts, articles, and updates. Stay informed with our latest news and insights."}),L&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-6",children:e.jsx(n,{variant:"outline",size:"md",onClick:S,className:"bg-white/10 border-white/30 text-white hover:bg-white/20",children:"Clear Filters"})})]})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{className:"w-full h-12 text-white",viewBox:"0 0 1200 120",preserveAspectRatio:"none",fill:"none",children:e.jsx("path",{d:"M0,0 C300,120 900,0 1200,120 L1200,120 L0,120 Z",fill:"white"})})})]}),e.jsx(m,{className:"py-12",children:e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1",children:[(x||g)&&e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[x&&e.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:["Category: ",x]}),g&&e.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:["Tag: ",g]})]}),j.length>0?e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx(C,{posts:j})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"No posts found"}),L&&e.jsx(n,{onClick:S,variant:"primary",children:"Clear Filters"})]}),P>1&&e.jsx(w,{currentPage:h,totalPages:P,basePath:"/blog"})]}),e.jsx("aside",{className:"lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-8",children:[e.jsx("div",{className:"hidden lg:block mb-6",children:e.jsx(N,{})}),e.jsx(v,{})]})})]})})}),e.jsx(b,{})]})}export{P as default};
