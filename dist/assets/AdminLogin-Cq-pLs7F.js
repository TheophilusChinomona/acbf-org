import{j as e,m as s}from"./ui-vendor-D2jIcmjW.js";import{c as a,a as t,u as r}from"./react-vendor-C9V0vZuX.js";import{a as i,C as l,S as n}from"./SEO-SZSb_e0q.js";import{Q as d,R as o,T as c,w as m,U as x,B as u,A as h}from"./index-Dan2u6DX.js";import{u as p}from"./form-vendor-BOV3nkk-.js";function g(){const{login:s,error:r}=d(),i=a(),[l,n]=t.useState(null),[h,g]=t.useState(!1),[b,f]=t.useState(""),{register:j,handleSubmit:y,formState:{errors:w},reset:N}=p();return e.jsxs("div",{className:"w-full",children:["success"===l&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[e.jsx(o,{className:"text-green-600 text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Login Successful!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Redirecting to admin dashboard..."})]})]}),("error"===l||r)&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[e.jsx(c,{className:"text-red-600 text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Login Failed"}),e.jsx("p",{className:"text-sm text-red-700",children:b||r||"An error occurred during login. Please try again."})]})]}),e.jsxs("form",{onSubmit:y(async e=>{g(!0),n(null),f("");try{await s(e.email,e.password),n("success"),N(),setTimeout(()=>{i("/admin")},1e3)}catch(a){n("error");let e="An error occurred during login. Please try again.";"auth/invalid-credential"===a.code||"auth/user-not-found"===a.code||"auth/wrong-password"===a.code?e="Invalid email or password. Please check your credentials and try again.":"auth/invalid-email"===a.code?e="Invalid email address format.":"auth/user-disabled"===a.code?e="This account has been disabled. Please contact support.":"auth/too-many-requests"===a.code?e="Too many failed login attempts. Please try again later.":a.message&&(e=a.message),f(e)}finally{g(!1)}}),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{...j("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",id:"email",placeholder:"admin@example.com",autoComplete:"email",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors "+(w.email?"border-red-500":"border-gray-300")})]}),w.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(c,{className:"text-xs"}),w.email.message]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{...j("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",id:"password",placeholder:"••••••••",autoComplete:"current-password",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors "+(w.password?"border-red-500":"border-gray-300")})]}),w.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(c,{className:"text-xs"}),w.password.message]})]}),e.jsx("div",{children:e.jsx(u,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,disabled:h,className:"flex items-center justify-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Sign In"})})]})]})}function b(){const{currentUser:o,loading:c}=d(),m=a(),u=r();return t.useEffect(()=>{if(!c&&o){const e=u.state?.from?.pathname||"/admin";m(e,{replace:!0})}},[o,c,m,u]),c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):o?null:e.jsxs(e.Fragment,{children:[e.jsx(i,{title:"Admin Login",description:"Admin login page for ACBF RSA website administration",url:`${"undefined"!=typeof window?window.location.origin:""}/admin/login`,noindex:!0}),e.jsxs("section",{className:"relative w-full overflow-hidden bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 py-12 md:py-16 lg:py-20 min-h-[40vh]",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),e.jsx(l,{children:e.jsx("div",{className:"relative z-10",children:e.jsxs(s.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[e.jsx(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"inline-flex items-center justify-center w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full mb-8 border-2 border-white/30",children:e.jsx(h,{className:"w-12 h-12 text-white"})}),e.jsx(s.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:"Admin Login"}),e.jsx(s.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Sign in to access the admin dashboard"})]})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{className:"w-full h-12 text-white",viewBox:"0 0 1200 120",preserveAspectRatio:"none",fill:"none",children:e.jsx("path",{d:"M0,0 C300,120 900,0 1200,120 L1200,120 L0,120 Z",fill:"white"})})})]}),e.jsx(n,{bgColor:"white",padding:"xl",children:e.jsx(l,{children:e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-3",children:[e.jsx(x,{className:"text-blue-600 text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Secure Access"}),e.jsx("p",{className:"text-sm text-blue-700",children:"This is a restricted area. Only authorized administrators can access this section."})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:e.jsx(g,{})})]})})})]})}export{b as default};
