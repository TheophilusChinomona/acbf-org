import{j as e}from"./ui-vendor-D2jIcmjW.js";import{a as s}from"./react-vendor-C9V0vZuX.js";import{L as t,a2 as a,a9 as r,aa as i,ab as l,F as n,ac as d,w as o,x as c,a4 as m,Z as p,a5 as x}from"./index-CCEhIy-z.js";import{S as h,C as u}from"./SEO-rJ-zjriL.js";import{S as j}from"./Section-B5vjyEy3.js";import{f as g}from"./format-DThRb344.js";import{u as b}from"./useMemberManagement-J0Ebtq4S.js";import"./form-vendor-DygO8_bV.js";const f={pending:{icon:r,color:"border-yellow-200 bg-yellow-50 text-yellow-800",title:"Membership Under Review",message:"Thank you for registering! Your membership application is currently under review. We'll notify you via email once a decision has been made."},approved:{icon:a,color:"border-green-200 bg-green-50 text-green-800",title:"Membership Approved",message:"Congratulations! Your membership has been approved. You now have access to the member portal and exclusive resources."},rejected:{icon:t,color:"border-red-200 bg-red-50 text-red-800",title:"Membership Not Approved",message:"We’re sorry, but your membership application was not approved at this time. Please review any notes below or contact the admin team for more information."}};function y({status:s,updatedAt:t,rejectionReason:a,className:r=""}){const l=(s||"").toLowerCase(),n=f[l]??{icon:i,color:"border-gray-200 bg-gray-50 text-gray-700",title:"Status Unknown",message:"We could not determine your current membership status. Please contact support for assistance."},d=n.icon,o=function(e){if(!e)return null;try{return e instanceof Date?g(e,"PPPp"):g("function"==typeof e?.toDate?e.toDate():new Date(e),"PPPp")}catch(s){return null}}(t);return e.jsxs("div",{className:`border rounded-xl p-5 md:p-6 flex flex-col gap-3 transition-colors ${n.color} ${r}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(d,{className:"h-6 w-6 md:h-7 md:w-7"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:n.title}),e.jsx("p",{className:"mt-1 text-sm md:text-base leading-relaxed text-current/90",children:n.message})]})]}),o&&e.jsxs("p",{className:"text-xs md:text-sm text-current/80 pl-9",children:["Last updated ",o]}),"rejected"===l&&a&&e.jsxs("div",{className:"mt-2 pl-9",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-current/90",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm md:text-base text-current/95 mt-1",children:a})]})]})}function N(){const{currentMember:t,memberProfileLoading:a,memberProfileError:r}=b(),[i,g]=s.useState(null),[f,N]=s.useState(!1),[v,w]=s.useState(null);s.useEffect(()=>{const e=t?.member_application_id;if(!e)return g(null),w(null),void N(!1);let s=!0;return(async()=>{N(!0),w(null);try{const t=m(p,"membership_applications",e),a=await x(t);if(!a.exists())throw new Error("We could not find your membership application details.");s&&g({id:a.id,...a.data()})}catch(t){s&&w(t.message||"Failed to load your membership application.")}finally{s&&N(!1)}})(),()=>{s=!1}},[t?.member_application_id]);const _=t?.status??null;return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Membership Approval Status",description:"Check the status of your ACBF membership application and learn about next steps.",url:`${"undefined"!=typeof window?window.location.origin:""}/member/pending`,noindex:!0}),e.jsx(j,{bgColor:"gray",padding:"lg",children:e.jsxs(u,{className:"max-w-5xl space-y-8 md:space-y-10",children:[e.jsxs("header",{className:"space-y-3 text-center md:text-left",children:[e.jsx("p",{className:"text-xs md:text-sm font-semibold uppercase tracking-wider text-primary",children:"Membership Portal"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Membership Approval Status"}),e.jsx("p",{className:"text-gray-600 text-base md:text-lg max-w-2xl",children:"Track the progress of your application and find resources to help while you wait for approval."})]}),a?e.jsx(l,{text:"Loading your membership status..."}):r?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-5 md:p-6 text-red-800",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Unable to Load Profile"}),e.jsx("p",{className:"text-sm md:text-base",children:r})]}):e.jsx(y,{status:_,updatedAt:t?.approved_at||t?.rejected_at||t?.updated_at,rejectionReason:t?.rejection_reason}),e.jsxs("section",{className:"grid gap-6 md:gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4 p-5 md:p-6 bg-white border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:e.jsx(n,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"What happens next?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Our admin team reviews every application carefully. You’ll receive updates via email. Approved members gain access to the member portal and resources immediately."})]})]}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsx("li",{children:"• Keep an eye on your inbox for important updates."}),e.jsx("li",{children:"• Reach out if any of your contact details change."}),e.jsx("li",{children:"• Expect reviews to take 5–7 business days in most cases."})]})]}),e.jsxs("div",{className:"space-y-4 p-5 md:p-6 bg-white border border-gray-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:e.jsx(d,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Need assistance?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Our team is here to help with questions about your application or the approval timeline."})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"text-primary"}),e.jsx("span",{children:"support@acbfrsa.org.za"})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"text-primary"}),e.jsx("span",{children:"+27 12 345 6789"})]})]})]})]}),e.jsxs("section",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-5 md:p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Application Details"}),f?e.jsx(l,{text:"Loading application details..."}):v?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:v}):i?e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm md:text-base text-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Full Name"}),e.jsx("p",{children:i.name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Email Address"}),e.jsx("p",{children:i.email||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Phone Number"}),e.jsx("p",{children:i.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Business Name"}),e.jsx("p",{children:i.business_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Business Type"}),e.jsx("p",{children:i.business_type||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Submitted On"}),e.jsx("p",{children:i.created_at?.toDate?i.created_at.toDate().toLocaleString():i.created_at?new Date(i.created_at).toLocaleString():"Not available"})]}),i.message&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Additional Information"}),e.jsx("p",{className:"mt-1 whitespace-pre-wrap",children:i.message})]})]}):e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"We couldn’t find any linked membership application details. If you believe this is an error, please contact support."})]})]})})]})}export{N as default};
